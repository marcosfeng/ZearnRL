{
  "hash": "b9875937d0dd107e12e3b51d93ca9cfd",
  "result": {
    "markdown": "---\ntitle: \"Predicting Repeated Behavior in Behavioral Sciences\"\nsubtitle: \"Applying Reinforcement Learning in Teacher Decision-Making\"\nauthor:\n  - name: Marcos Gallo\n    orcid: 0000-0002-8227-2661\nformat:\n  pdf:\n    toc: true\n    number-sections: true\nexecute:\n  echo: false\n  warning: false\n  error: false\n---\n\n\n# Introduction\n\n## Predicting Repeated Behavior in the Behavioral Sciences\n\nApplying Reinforcement Learning in Teacher Decision-Making\n\n## A Novel Approach\n\n# Context and Research Questions\n\n## The Zearn Platform\n\n<!-- ![Teacher and Students](https://assets-global.website-files.com/60ad603a6b6b23851c3fb0d8/60f850148c03471458e4be28_hithere-poster-00001.jpg) *Image from [Zearn](https://about.zearn.org)* -->\n\nZearn is an online math-teaching platform.\n\n-   Model the decision-making of teachers\n\n-   Understand how they adapt their teaching strategies to optimize student achievement.\n\n## Data - Zearn Platform\n\nPersonalized learning experience for students. Teachers track student progress and make informed decisions.\n\n-   **Classroom structure:** Self-paced online lessons and small group instruction.\n\n-   **Badge system for student achievement:** Students earn badges upon completing lessons (mastery of specific skills). Track student progress and motivate them to continue learning.\n\n-   **Tower Alerts:** Real-time notifications sent to teachers when a student struggles with a specific concept. Teachers can provide support and address learning gaps.\n\n-   **Teacher selection and criteria:** Consistently use the platform and work in traditional school settings.\n\n-   **Variables of interest:** Teacher effort, student performance, lesson completion, and the time spent by both teachers and students on the platform.\n\n## Research Questions\n\n<!-- Get some ideas from the mega-study prereg -->\n\n# Theory\n\n<!-- Literature Review -->\n\n## Teacher effort and student achievement\n\n### Education production function\n\n### Context and experience\n\n## Reinforcement Learning to Capture Patterns in Repeated Behavior\n\n### Why Reinforcement Learning?\n\n-   RL is inspired by the way animals learn from their experiences\n-   An agent in RL represents a decision-maker\n-   Actions: choices made by the agent\n-   Environment: the context in which the agent makes decisions\n-   Observations: information the agent receives about the environment\n-   Rewards: feedback received by the agent based on the actions taken\n\nIn the context of predicting repeated behavior, RL algorithms can be used to model the decision-making process of individuals or groups, such as teachers, by learning from the patterns in their actions and the resulting outcomes.\n\nRL: an **agent** learns to make decisions by interacting with an **environment**. Through [trial and error]{.underline}, agent learns the best **actions** to take in different situations to achieve its **goals**.\n\n$$\n\\text{Agent} \\xrightarrow[\\text{Actions}]{\\text{Performs}} \\text{Environment} \\xrightarrow[\\text{Observations, Rewards}]{\\text{Provides}} \\text{Agent}\n$$\n\n**Suitability for modeling teacher decision-making**\n\n-   Captures the dynamic and sequential nature of teaching\n\n-   Example: $s_t = (TowerAlerts_t, RD\\_resources\\_t)$, $a_t = (RD\\_small\\_group\\_lessons\\_t, TimeSpent\\_t)$\n\n-   Allows for the exploration of optimal teaching strategies in response to students' progress and engagement\n\n-   Example: Balancing between focusing on struggling students and challenging high-performing students\n\n**Assumptions, objective functions, and tradeoffs**\n\nAssumes teachers make decisions to maximize long-term rewards (e.g., student learning outcomes)\n\nObjective: $\\max_{\\pi} \\mathbb{E}[\\sum_{t=0}^T \\gamma^t r(s_t, a_t) | \\pi]$\n\nBalances the tradeoffs between exploration (trying new teaching strategies) and exploitation (using known effective strategies)\n\nExample: $\\epsilon$-greedy strategy\n\n**Flexibility and robustness**\n\n-   Adapts to changes in the learning environment and individual student needs\n\n-   Example: Adapting to new curriculum or varying levels of student preparedness\n\n-   Allows for the incorporation of various state, action, and reward variables\n\n-   Example: Including external factors such as school policies or testing schedules\n\n-   Can be tailored to different educational contexts and objectives\n\n-   Example: Customizing the model for different grade levels\n\n-   Tradeoff between learning (exploring) and optimizing (exploiting)\n\n**Example:**\n\n-   State: Current progress of students in the class.\n-   Actions: Assigning additional practice, providing personalized feedback, adjusting lesson plans.\n-   Rewards: Improved student performance, student engagement, reduced learning gaps.\n\n$$\nState (S) \\xrightarrow[\\text{Action (A)}]{\\text{Teacher Decides}} New State (S') \\xrightarrow[\\text{Reward (R)}]{\\text{Resulting Outcome}} \\text{Feedback}\n$$\n\n### Q-Learning Model\n\n### Actor-Critic Model\n\n1.  Full RL framework\n2.  Policy learning and state value learning\n3.  Eligibility traces for delayed rewards\n\n### Gaussian Policy Model\n\nD. Continuous Control through a Gaussian Policy 1. Probability distribution over actions\n\n<!-- Literature Review -->\n\n## RL in teaching and education\n\n1.  Markov decision processes\n2.  Instructional actions, objectives, and costs\n\n# Data\n\n\n::: {.cell}\n\n:::\n\n::: {.cell}\n\n:::\n\n\n## Descriptive Statistics and Visualizations\n\nThe data represents various aspects of Zearn schools including identifiers, usage data, and demographic information. The dataset contains information for 22153 classrooms and 13921 teachers, with an average of 20 students per classroom. Various transformations and computations were performed on the data to prepare it for analysis, including calculating the number of distinct teachers, total students, and total weeks per school.\n\nDescriptive statistics were computed for different measures such as the number of unique teachers, total students, and total weeks per school. Proportions were also calculated for various variables like poverty and income. The resulting statistics and proportions are displayed in @tbl-summary and @tbl-proportions, respectively. Refer to @tbl-summary-statistics for detailed information on the summary statistics for different variables by grade level.\n\nThe geographical distribution of teachers across Louisiana and the top 5 cities with the highest number of teachers are presented in @fig-teachers-map.\n\n\n::: {#tbl-summary .cell tbl-cap='Summary statistics for the schools'}\n::: {.cell-output-display}\n\\begin{longtable}{l|rrrr}\n\\toprule\n\\multicolumn{1}{l}{} & Mean & Standard Deviation & Minimum & Maximum \\\\ \n\\midrule\nTeachers & $12.08$ & $11.84$ & $1$ & $72$ \\\\ \nStudents\\_Total & $268.72$ & $279.49$ & $1$ & $3,289$ \\\\ \nWeeks\\_Total & $9.30$ & $7.16$ & $1$ & $39$ \\\\ \n\\bottomrule\n\\end{longtable}\n:::\n:::\n\n::: {#tbl-proportions .cell tbl-cap='Proportions of different variables.'}\n::: {.cell-output-display}\n\\begin{longtable}{l|r}\n\\toprule\n\\multicolumn{1}{l}{} & Proportions \\\\ \n\\midrule\n\\textbf{Poverty Level} &  \\\\ \n0-40\\% (Low) & 20.12\\% \\\\ \n40-75\\% (Mid-High) & 53.44\\% \\\\ \n75\\%+ (High) & 20.52\\% \\\\ \n\\textbf{Income} &  \\\\ \n\\$1--27,999 & 5.12\\% \\\\ \n\\$28K-31,999 & 5.81\\% \\\\ \n\\$32K-34,999 & 7.39\\% \\\\ \n\\$35K-36,999 & 4.61\\% \\\\ \n\\$37K-38,999 & 3.52\\% \\\\ \n\\$39K-40,999 & 2.55\\% \\\\ \n\\$41K-42,999 & 5.34\\% \\\\ \n\\$43K-44,999 & 3.66\\% \\\\ \n\\$45K-47,999 & 7.11\\% \\\\ \n\\$48K-51,999 & 18.48\\% \\\\ \n\\$52K-54,999 & 4.16\\% \\\\ \n\\$55K-59,999 & 2.95\\% \\\\ \n\\$60K-64,999 & 9.1\\% \\\\ \n\\$65K-69,999 & 4.02\\% \\\\ \n\\$70K-80,999 & 8.8\\% \\\\ \n\\$81K-93,999 & 2.94\\% \\\\ \n\\$94K+ & 1.62\\% \\\\ \n\\textbf{Other} &  \\\\ \nCharter\\_Schools & 7.01\\% \\\\ \nSchools\\_with\\_Paid\\_Account & 71.04\\% \\\\ \n\\bottomrule\n\\end{longtable}\n:::\n:::\n\n::: {.cell hash='zearn_cache/pdf/fig-teachers-map_91bdab3affa15144c7644f35631d1858'}\n::: {.cell-output .cell-output-stdout}\n```\n\n  |                                                                            \n  |                                                                      |   0%\n  |                                                                            \n  |                                                                      |   1%\n  |                                                                            \n  |=                                                                     |   1%\n  |                                                                            \n  |=                                                                     |   2%\n  |                                                                            \n  |==                                                                    |   2%\n  |                                                                            \n  |==                                                                    |   3%\n  |                                                                            \n  |===                                                                   |   4%\n  |                                                                            \n  |===                                                                   |   5%\n  |                                                                            \n  |====                                                                  |   5%\n  |                                                                            \n  |====                                                                  |   6%\n  |                                                                            \n  |=====                                                                 |   6%\n  |                                                                            \n  |=====                                                                 |   7%\n  |                                                                            \n  |=====                                                                 |   8%\n  |                                                                            \n  |======                                                                |   8%\n  |                                                                            \n  |======                                                                |   9%\n  |                                                                            \n  |=======                                                               |  10%\n  |                                                                            \n  |========                                                              |  11%\n  |                                                                            \n  |========                                                              |  12%\n  |                                                                            \n  |=========                                                             |  12%\n  |                                                                            \n  |=========                                                             |  13%\n  |                                                                            \n  |==========                                                            |  14%\n  |                                                                            \n  |==========                                                            |  15%\n  |                                                                            \n  |===========                                                           |  15%\n  |                                                                            \n  |===========                                                           |  16%\n  |                                                                            \n  |============                                                          |  17%\n  |                                                                            \n  |============                                                          |  18%\n  |                                                                            \n  |=============                                                         |  19%\n  |                                                                            \n  |==============                                                        |  19%\n  |                                                                            \n  |==============                                                        |  20%\n  |                                                                            \n  |===============                                                       |  22%\n  |                                                                            \n  |================                                                      |  23%\n  |                                                                            \n  |=================                                                     |  24%\n  |                                                                            \n  |=================                                                     |  25%\n  |                                                                            \n  |==================                                                    |  26%\n  |                                                                            \n  |====================                                                  |  28%\n  |                                                                            \n  |====================                                                  |  29%\n  |                                                                            \n  |=====================                                                 |  30%\n  |                                                                            \n  |======================                                                |  32%\n  |                                                                            \n  |========================                                              |  34%\n  |                                                                            \n  |=========================                                             |  36%\n  |                                                                            \n  |==========================                                            |  37%\n  |                                                                            \n  |============================                                          |  40%\n  |                                                                            \n  |=============================                                         |  42%\n  |                                                                            \n  |===============================                                       |  44%\n  |                                                                            \n  |=================================                                     |  47%\n  |                                                                            \n  |===================================                                   |  50%\n  |                                                                            \n  |====================================                                  |  51%\n  |                                                                            \n  |======================================                                |  54%\n  |                                                                            \n  |========================================                              |  58%\n  |                                                                            \n  |=========================================                             |  58%\n  |                                                                            \n  |===========================================                           |  62%\n  |                                                                            \n  |==============================================                        |  65%\n  |                                                                            \n  |=================================================                     |  69%\n  |                                                                            \n  |==================================================                    |  72%\n  |                                                                            \n  |======================================================                |  77%\n  |                                                                            \n  |=======================================================               |  79%\n  |                                                                            \n  |========================================================              |  80%\n  |                                                                            \n  |===========================================================           |  85%\n  |                                                                            \n  |============================================================          |  86%\n  |                                                                            \n  |=================================================================     |  92%\n  |                                                                            \n  |=================================================================     |  94%\n  |                                                                            \n  |======================================================================| 100%\n```\n:::\n\n::: {.cell-output-display}\n![Geographical distribution of teachers across various parishes in Louisiana, and the top 5 cities with the highest number of teachers.](zearn_files/figure-pdf/fig-teachers-map-1.pdf){#fig-teachers-map}\n:::\n:::\n\n\n## Unit of Analysis: Classroom-Week\n\n### Zearn's Eye View\n\nTime-series data for teacher effort and student achievement A. Weekly aggregation of data B. Privacy concerns for student data\n\n<!-- Print head of dataset with better labels -->\n\n### Measuring Student Achievement\n\n\n::: {#tbl-summary-statistics .cell caption='Means (SD) of student variables by grade level.'}\n::: {.cell-output-display}\n\\begin{longtable}{lrrrrr}\n\\toprule\nGrade Level & Sessions per Student & Minutes per Student & Badges per Student & Tower Alerts per Lesson Completion & Minutes per Teacher \\\\ \n\\midrule\n**Overall**, N = 262,771 & 4.68 (3.34) & 2.96 (1.98) & 0.76 (0.68) & 0.23 (0.34) & 2.84 (1.77) \\\\ \n**Kindergarten**, N = 16,746 & 3.61 (2.77) & 2.37 (1.82) & 1.02 (0.90) & 0.02 (0.15) & 2.01 (1.55) \\\\ \n**1st**, N = 41,224 & 4.63 (2.98) & 2.93 (1.99) & 0.79 (0.68) & 0.19 (0.27) & 2.67 (1.70) \\\\ \n**2nd**, N = 48,428 & 4.63 (3.01) & 2.97 (1.99) & 0.77 (0.67) & 0.18 (0.28) & 2.76 (1.72) \\\\ \n**3rd**, N = 50,958 & 4.71 (3.14) & 3.05 (1.97) & 0.78 (0.66) & 0.23 (0.31) & 2.99 (1.80) \\\\ \n**4th**, N = 50,803 & 4.85 (3.53) & 3.07 (1.96) & 0.71 (0.64) & 0.28 (0.37) & 3.00 (1.79) \\\\ \n**5th**, N = 49,569 & 5.02 (3.98) & 3.08 (1.95) & 0.72 (0.63) & 0.33 (0.41) & 3.04 (1.81) \\\\ \n**6th**, N = 3,006 & 3.06 (2.28) & 1.81 (1.98) & 0.35 (0.56) & 0.23 (0.45) & 2.69 (1.70) \\\\ \n**7th**, N = 1,035 & 3.27 (2.22) & 2.15 (1.94) & 0.41 (0.54) & 0.29 (0.44) & 2.52 (1.71) \\\\ \n**8th**, N = 1,002 & 2.66 (1.63) & 1.64 (1.82) & 0.26 (0.47) & 0.21 (0.43) & 2.35 (1.66) \\\\ \n\\bottomrule\n\\end{longtable}\n:::\n:::\n\n\n### Change in Active Users and Badges per Active User Over Time\n\nThe average number of active students over time is shown in @fig-active-users, and the total number of student logins over time is illustrated in @fig-logins-week.\n\n\n::: {.cell}\n::: {.cell-output-display}\n![Change in the average number of active students over time.](zearn_files/figure-pdf/fig-active-users-1.pdf){#fig-active-users}\n:::\n:::\n\n::: {.cell}\n::: {.cell-output-display}\n![Total number of student logins over time.](zearn_files/figure-pdf/fig-logins-week-1.pdf){#fig-logins-week}\n:::\n:::\n\n\n## Exclusion criteria\n\n1.  Traditional schools and consistent platform usage\n2.  Criteria for inclusion in the study We remove teachers with more than 4 classrooms and those who have logged in for less than 12 weeks in total. We exclude classrooms in the 6th to 8th grades, as those are a small proportion of our dataset.\n\n\n::: {.cell}\n\n:::\n\n\n## Variables of interest\n\nTeacher log-ins and time spent on the platform Student lesson completion (badges) D. State variables 1. Tower Alerts 2. Student time usage\n\n### Visualizing Relationships Between Variables\n\n-   Use correlation analysis to find relationships between variables\n\n-   Identify variables that may be strong predictors for the reinforcement learning model\n\n@fig-corr displays the correlation matrix of selected variables.\n\n\n::: {.cell}\n::: {.cell-output-display}\n![This graph represents the correlation between variables after log transformation](zearn_files/figure-pdf/fig-corr-1.pdf){#fig-corr}\n:::\n:::\n\n\n#### Are Some Badges Harder than Other?\n\n### Dimensionality Reduction\n\nIn order to capture the choices and trade-offs that teachers make, we used a Principal Component Analysis (PCA). This approach was taken to condense the multifaceted nature of our variables: Teacher Minutes, Teacher Sessions, and a series of data points including resources downloaded.\n\nPCA was performed to mitigate the high-dimensionality of the dataset, seeking to encapsulate the maximum statistical information. We then calculated the correlations between the \"Badges per Student\" and the following variables: Teacher Minutes, and the three principal components (PC1, PC2, PC3). This facet of the analysis, which had a unit of analysis at the teacher level, was conducted to analyze the relationship between badges and the selected variables for each Teacher.\n\n@fig-pca displays the Scree plot showing the optimal number of principal components.\n\nThe Non-negative Matrix Factorization (NMF) operates as follows:\n\nThe original matrix can be seen as a detailed description of all the teachers' behaviors. Each row in the matrix represents a unique teacher, and each column represents a specific behavior or action the teacher might take. The entry in a specific row and column then corresponds to the occurrence, frequency, or intensity of that behavior for that particular teacher. After the NMF, we have two matrices:\n\n1.  **Basis Matrix (W)**: This matrix represents underlying behavior patterns. Each column can be seen as a \"meta-behavior\" or a group of behaviors that tend to occur together. It is an abstraction or summary of the original behaviors.\n2.  **Mixture Matrix (H)**: This matrix shows the extent to which each \"meta-behavior\" is present in each teacher. Each entry in this matrix represents the contribution of a \"meta-behavior\" to a particular teacher's behaviors.\n\nBy looking at these matrices, we can identify underlying patterns of behaviors (from the basis matrix) and see how these patterns are mixed and matched in different teachers (from the mixture matrix). This can be a powerful way of summarizing and interpreting complex behavioral data.\n\n\n::: {.cell}\n\n:::\n\n::: {.cell hash='zearn_cache/pdf/nmf_87f1b6b623ac2b0e0a275f44384407fe'}\n\n:::\n\n::: {.cell hash='zearn_cache/pdf/fig-nmf-pca-comparison_7723cf151be74f74d70cfbb691441bfc'}\n::: {.cell-output-display}\n![Comparison of residuals and silhouette scores for PCA, Frobenius, and Kullback-Leibler methods.](zearn_files/figure-pdf/fig-nmf-pca-comparison-1.pdf){#fig-nmf-pca-comparison}\n:::\n:::\n\n\n### Interpreting Components\n\n<!-- To ensure a more intuitive interpretation, we adjust each component to ensure a positive correlation with Student Badges (multiplying them by $-1$ if necessary). -->\n\n\n\n::: {.cell hash='zearn_cache/pdf/fig-nmf-heatmap_83e8eb6b50740f3813e39419c77498a4'}\n::: {.cell-output-display}\n![](zearn_files/figure-pdf/fig-nmf-heatmap-1.pdf){#fig-nmf-heatmap}\n:::\n:::\n\n\n\n## Connecting Variables to Reinforcement Learning Model\n\n**States**\n\n-   Tower Alerts points to how many students are struggling with the content.\n\n-   Minutes per Student / Badges per Student\n\n-   Total Active Students\n\n-   Different combinations of these variables to create unique states.\n\n**Rewards**\n\n-   Learning progress through objective measures such as badges, boosts.\n\n-   Quantify the effectiveness of teacher actions in promoting student learning.\n\n**Actions**\n\n-   Teachers can download resources, engage in different teaching methods or activities.\n\n-   Teachers can choose how much time they spend online.\n\n-   RL optimizes the action selection based on the rewards observed.\n\n<!-- ![Student View](https://help.zearn.org/hc/article_attachments/5698093595927/HC_-_StudentFeed_3.PNG) -->\n\n<!-- *Image of Zearn's classroom structure* -->\n\n![Badges](https://help.zearn.org/hc/article_attachments/5547000521495/HC_-_LockedLessons.PNG) *Image of the badge system for student achievement*\n\n# Methods\n\n## Dynamic Analysis (Lau & Glimcher, 2005)\n\n**Introduction to dynamic analysis**\n\n-   Uses response-by-response models to predict choice on each trial based on past reinforcers and choices\n\n-   Based on logistic regression, it captures the linear combination of past reinforcers and choices on each trial\n\n-   Flexible model incorporating effects of past reinforcers, choice history, and biases\n\n**Advantages of dynamic analysis in the context of Zearn dataset**\n\n-   Captures the temporal dependencies and complex interactions between teacher actions, student outcomes, and learning environment\n\n-   Allows for the identification of optimal teaching strategies that evolve over time\n\n-   Enables the evaluation of the impact of various factors (e.g., curriculum, student engagement, etc.) on the decision-making process\n\n**Model Formulation**\n\n$$\n\\begin{aligned}\\log \\left(\\frac{p_{R, i}}{p_{L, i}}\\right)= & \\sum_{j=1} \\alpha_{ j}( r_{R, i-j}-r_{L, i-j}) \\\\& +\\sum_{j=1} \\beta_{j} (c_{R, i-j}-c_{L, i-j})+\\gamma,\\end{aligned}\n$$\n\n**Preliminary insights and findings**\n\n-   Identification of key factors that influence teacher decision-making and student outcomes\n\n-   Evidence of adaptive teaching strategies that change in response to student progress and engagement\n\n-   Estimation of the relative impact of different teaching actions on student learning\n\n## Variable Selection\n\n## Q-learning Model\n\n-   Teacher Specific reward sensitivity\n-   Reward is a linear function of badges (reward sensitivity minus cost)\n\n## Actor-Critic Model\n\n## Gaussian Policy Model\n\n## Model Fit\n\n### Base Models: Random Effects Panel Logit\n\n### Hierarchical Bayesian Method\n\nBayesian updating using Stan software package Priors informed by grid search\n\n## Model Comparison\n\n## Heterogeneity\n\n### Across Teachers\n\n### Across Schools\n\n### Across Demographics\n\n# Results\n\n## Component Selection\n\n\n::: {.cell}\n\n:::\n\n::: {.cell hash='zearn_cache/pdf/fig-nmf-pca-bic_150834768e65e77afd912a1cbae53840'}\n::: {.cell-output-display}\n![BICs](zearn_files/figure-pdf/fig-nmf-pca-bic-1.pdf){#fig-nmf-pca-bic}\n:::\n:::\n\n::: {.cell}\n\n:::\n\n::: {.cell}\n\n:::\n\n\n## Meta-Analysis Overall Results\n\nSubsequently, we performed a meta-analysis of these correlations to reveal the pooled effect of our variables. In this case, we conducted a multivariate meta-analysis, offering the advantage of modeling multiple, potentially correlated, outcomes. We transformed the correlations using Fisher's z-transformation (to ensure a normal distribution of the correlations) and ran a random effects model with each unique combination of \"Teacher\" and \"School\".\n\nThe resulting multivariate meta-analysis provides a comprehensive estimate of the correlations for each outcome, considering the hierarchical structure of the data. Thus, we can understand the overarching relationships between the different outcomes and the Badges across diverse schools and teachers. This robust conclusion, therefore, provides a more resilient analysis than a simple correlation analysis.\n\n@fig-meta-analysis presents the results of a meta-analysis on the correlation.\n\n\n::: {.cell hash='zearn_cache/pdf/fig-meta-analysis_9685463e341473d80ed0ae7e06dd28a1'}\n\n:::\n\n::: {.cell}\n\n:::\n\n\n## Base Models\n\nIn order to get a baseline understanding of the influence of our key variables on the number of badges per active user, we employed a series of panel data models, with control variables: 1) the number of classes each teacher is responsible for, 2) the grade level of the classes, and 3) the total number of students. The 'Minutes Model' considers the number of minutes each teacher spends on the platform. The 'PCA Models' incorporate the three principal components we derived earlier.\n\nBoth of these models use a random effects approach, which is suitable for our panel data structure and accounts for unobserved heterogeneity.\n\n\n::: {.cell}\n\n:::\n\n::: {.cell}\n\n:::\n\n\n## Models with Lags\n\nSubsequently, we accounted for the temporal dynamics of our dataset by applying the Lau & Glimcher (2005) method. We introduced lagged variables into the models, thereby allowing us to account for temporal autocorrelation and potential delayed effects. We included lagged versions of the variables 'Teacher Minutes', 'PC1', 'PC2', 'PC3', and 'Badges per Students', with eight lags for each.\n\nWe then ran models with these lagged variables using the same random effects approach as in the base models.\n\n\n::: {.cell}\n\n:::\n\n\nIn order to better understand and interpret the output of our models, we created a plot of the coefficients associated with each of the lagged variables. This plot allows us to see how the influence of each variable changes as the lag increases, and to compare these dynamics across variables.\n\n\n::: {.cell}\n\n:::\n\n\n## Variable selection\n\nTo ensure that our models are parsimonious and to help determine which set of variables provides the best fit for the data, we compared the Bayesian Information Criterion (BIC) of the different models: the Minutes Model, PCA Model, and Lag Models. @tbl-bic displays the BICs, with each row corresponding to a different model.\n\n\n::: {#tbl-bic .cell tbl-cap='Comparison of BIC values across different models. Lower BIC values indicate better model fit.'}\n\n:::\n\n\nBIC penalizes models based on their complexity (number of parameters used) and the number of observations, favoring simpler models and models that fit the data better. In @tbl-bic, the 8-lag PC1 Model has the lowest BIC value, suggesting that it provides the best fit to the data when considering both complexity and fit.\n\n## Q-Learning Analysis\n\n<!-- Find a graph that displays results better (rather than the one user to fit) -->\n\n## Actor-Critic Analysis\n\n## Gaussian Policy\n\n## Model Comparison\n\n<!-- BICs, summary stats on fit -->\n\n## Heterogeneity\n\n# Discussion\n\n6.  Comparing the performance of the models\n7.  Advantages and limitations of each model\n8.  Insights from each model\n\n## Implications for Teachers and Schools\n\n3.  Decision-making patterns\n4.  Optimal strategies\n5.  Implications for the education field\n6.  Potential impact on teaching practices\n7.  Policy recommendations\n\n## Limitations\n\n3.  Data limitations and biases\n4.  Model assumptions and simplifications\n5.  Generalizability of results\n\n## Challenges\n\n## Future research\n\n6.  Application to other educational contexts\n7.  Integration with other models and approaches\n8.  Expanding the scope of variables and data sources",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {
      "include-in-header": [
        "\\usepackage{booktabs}\n\\usepackage{caption}\n\\usepackage{longtable}\n"
      ]
    },
    "engineDependencies": {},
    "preserve": null,
    "postProcess": false
  }
}